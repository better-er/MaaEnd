{
    "NeedCredit": {
        "doc": "信用点不足,需要先去信用点商店购买物品",
        "max_hit": 1,
        //这个节点是给信用点商店任务预留的
        //当然你也可以自己给NeedCredit这项任务添加识别器
        //
        //当信用点商店中包含玉或者其他高价值物品,但是信用点不够就运行这个任务
        //这个任务会去帝江号基建中开启线索交流(如果会客室也没线索那就没办法了)
        //帝江号的日常收取中不会开启
        //BTW:这个任务完成后会退出其他界面回到帝江号内部,你需要重新进入信用点商店
        "next": [
            "[JumpBack]CancelExit",
            "InMainWindow_NeedCredit", //适配万能跳转时,只保留这一项
            "[JumpBack]CloseButtonType1"

        ]
    },
    //主流程
    "DijiangRewards": {
        "doc": "基建奖励领取",
        "next": [
            "[JumpBack]CancelExit",
            "InMainWindow_Normal", //适配万能跳转时,只保留这一项
            "[JumpBack]CloseButtonType1"

        ]
    },
    "ControlNexus": {
        "doc": "控制中枢任务主流程",
        "max_hit": 1,
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    15,
                    437,
                    225,
                    153
                ],
                "template": [
                    "ClaimDijiangRewards/InControlNexus.png"
                ]
            }
        },
        "next": [
            "[JumpBack]EntryReceptionRoom",
            "[JumpBack]ControlNexusClickTips",
            "[JumpBack]ProductionAssistInDijiang",
            "[JumpBack]RecoveryEmotion",
            "[JumpBack]MFG_ReceiveRewards",
            "[JumpBack]GrowthChamber",
            "InLastCarbin",
            "[JumpBack]CarbinSwipe",
            "[JumpBack]WhiteConfirmButtonType1",
            "[JumpBack]CloseRewardsButton"
        ]
    },
    "InMainWindow_Normal": {
        "doc": "到达指定页面,需要进入控制中枢领取奖励",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame1.png",
                                "threshold": 0.8,
                                "roi": [
                                    172,
                                    0,
                                    183,
                                    119
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame2.png",
                                "threshold": 0.8,
                                "roi": [
                                    1182,
                                    0,
                                    98,
                                    128
                                ]
                            }
                        }
                    },
                    "InControlNexus"

                ]
            }
        },
        "next": [
            "ControlNexus", //主流程内收集所有奖励
            "[JumpBack]OpenDijiangControlNexus",
            "[JumpBack]SelectDijiang",
            "[JumpBack]WaitLoadingColor",
            "[JumpBack]TeleportButton",
            "[JumpBack]SelectDijiangTeleport",
            "[JumpBack]OpenMap"

        ]
    },
    "InMainWindow_NeedCredit": {
        "doc": "到达指定页面,需要进入控制中枢领取信用点",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame1.png",
                                "threshold": 0.8,
                                "roi": [
                                    172,
                                    0,
                                    183,
                                    119
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame2.png",
                                "threshold": 0.8,
                                "roi": [
                                    1182,
                                    0,
                                    98,
                                    128
                                ]
                            }
                        }
                    },
                    "InControlNexus"

                ]
            }
        },
        "next": [
            "EntryReceptionRoom_NeedCredit", //单独运行一次会客室
            "[JumpBack]OpenDijiangControlNexus",
            "[JumpBack]SelectDijiang",
            "[JumpBack]WaitLoadingColor",
            "[JumpBack]TeleportButton",
            "[JumpBack]SelectDijiangTeleport",
            "[JumpBack]OpenMap",
            "[JumpBack]CancelExit"

        ]
    },
    "EntryReceptionRoom_NeedCredit": {
        "doc": "进入会客室领取信用点",
        "max_hit": 1,
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "sub_name": "_ReceptionRoomBackground",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    363,
                                    12,
                                    538,
                                    278
                                ],
                                "lower": [
                                    151,
                                    132,
                                    235
                                ],
                                "upper": [
                                    158,
                                    138,
                                    249
                                ],
                                "count": 400,
                                "connected": true
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "_ReceptionRoomBackground",
                                "lower": [
                                    35,
                                    35,
                                    35
                                ],
                                "upper": [
                                    35,
                                    35,
                                    35
                                ],
                                "count": 50,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "ReceptionRoom_NeedCredit",
            "[JumpBack]EndExchange",
            "EntryReceptionRoom_NeedCredit"
        ]
    },
    "ReceptionRoom_NeedCredit": {
        "doc": "确认到达会客室",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "会客室"
                ]
            }
        },
        "next": [
            "InControlNexus_NeedCredit",
            "[JumpBack]CloseRewardsButton",
            "[JumpBack]StartExchange",
            "[JumpBack]ExitReceptionRoom"
        ]
    },
    "StartExchange": {
        "doc": "开始线索交流",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    633,
                    476,
                    444,
                    175
                ],
                "template": [
                    "Common/Button/YellowConfirmButtonType1.png",
                    "Common/Button/YellowConfirmButtonType1Hover.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "InControlNexus_NeedCredit": {
        "doc": "到达控制中枢",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    143,
                    467,
                    77,
                    77
                ],
                "template": [
                    "ClaimDijiangRewards/InControlNexus.png"
                ]
            }
        },
        "next": [
            "InMainWindow",
            "[JumpBack]CloseButtonType1",
            "[JumpBack]CancelExit"
        ]
    },
    "CancelExit": {
        "doc": "取消退出",
        "post_wait_freezes": {
            "time": 200,
            "timeout": 2000
        },
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    308,
                    282,
                    370,
                    306
                ],
                "expected": [
                    "取消"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "InLastCarbin": {
        "doc": "最后一个培养舱",
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "sub_name": "_GrowthChamber",
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": [
                                    895,
                                    464,
                                    138,
                                    134
                                ],
                                "template": [
                                    "ClaimDijiangRewards/GrowthChamber.png"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "_GrowthChamber",
                                "upper": [
                                    150,
                                    179,
                                    76
                                ],
                                "lower": [
                                    146,
                                    175,
                                    75
                                ],
                                "count": 30,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "next": [
            "FinishAllDijiangTask"
        ]
    },
    "FinishAllDijiangTask": {
        "doc": "完成所有基建任务",
        "next": [
            "InMainWindow",
            "[JumpBack]CloseButtonType1"
        ]
    },
    "InMainWindow": {
        "doc": "在主界面",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame1.png",
                                "threshold": 0.8,
                                "roi": [
                                    172,
                                    0,
                                    183,
                                    119
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame2.png",
                                "threshold": 0.8,
                                "roi": [
                                    1182,
                                    0,
                                    98,
                                    128
                                ]
                            }
                        }
                    }
                ]
            }
        }
    },
    "ExitReceptionRoom": {
        "doc": "退出会客室",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "会客室"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "ReceptionRoomClickTips": {
        "doc": "点击会客室的红点",
        "post_wait_freezes": {
            "time": 200,
            "timeout": 2000
        },
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "doc": "任务提示的红点",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    43,
                                    79,
                                    1116,
                                    485
                                ],
                                "lower": [
                                    224,
                                    105,
                                    0
                                ],
                                "upper": [
                                    255,
                                    117,
                                    4
                                ],
                                "count": 40,
                                "connected": true
                            }
                        }
                    },
                    {
                        "doc": "确保在会客室界面",
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    43,
                                    0,
                                    96,
                                    64
                                ],
                                "expected": [
                                    "会客室"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    -40,
                    50,
                    0,
                    0
                ]
            }
        },
        "next": [
            "ReadySetClues",
            "EndExchange"
        ]
    },
    "ReadySetClues": {
        "doc": "准备设置线索",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    868,
                    182,
                    393,
                    130
                ],
                "expected": [
                    "线索"
                ],
                "order_by": "Vertical"
            }
        },
        "next": [
            "AlreadyHaveClues",
            "SetClues"
        ]
    },
    "AlreadyHaveClues": {
        "doc": "已经有线索了",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    835,
                    166,
                    142,
                    166
                ],
                "expected": [
                    "已填入"
                ],
                "order_by": "Vertical"
            }
        }
    },
    "SetClues": {
        "doc": "放置线索",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "doc": "识别线索的删除按钮",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "ReadySetClues",
                                "roi_offset": [
                                    1,
                                    -17,
                                    180,
                                    17
                                ],
                                "upper": [
                                    221,
                                    44,
                                    76
                                ],
                                "lower": [
                                    221,
                                    44,
                                    75
                                ],
                                "count": 20,
                                "connected": true
                            }
                        }
                    },
                    {
                        "doc": "识别线索的剩余天数",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "ReadySetClues",
                                "roi_offset": [
                                    -102,
                                    1,
                                    -21,
                                    85
                                ],
                                "upper": [
                                    166,
                                    189,
                                    107
                                ],
                                "lower": [
                                    109,
                                    153,
                                    0
                                ],
                                "count": 20,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target": "ReadySetClues"
            }
        }
    },
    "CollectClues": {
        "doc": "收集线索",
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 2,
                "all_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    43,
                                    0,
                                    96,
                                    64
                                ],
                                "expected": [
                                    "会客室"
                                ]
                            }
                        }
                    },
                    {
                        "sub_name": "_Tips",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    1117,
                                    82,
                                    163,
                                    517
                                ],
                                "lower": [
                                    224,
                                    105,
                                    0
                                ],
                                "upper": [
                                    255,
                                    117,
                                    4
                                ],
                                "count": 40,
                                "connected": true
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": "_Tips",
                                "roi_offset": [
                                    -63,
                                    31,
                                    81,
                                    36
                                ],
                                "expected": [
                                    "收集"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "SendClues",
            "Collect",
            "CollectClues",
            "EndExchange"
        ]
    },
    "SendClues": {
        "doc": "线索过多,发送一个",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    793,
                    350,
                    280,
                    75
                ],
                "expected": [
                    "已达自有线索库容量上限"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        },
        "next": [
            "SendTheMostClues",
            "[JumpBack]EntrySendClues",
            "[JumpBack]SendCluesSwipe"
        ]
    },
    "SendCluesSwipe": {
        "doc": "没有指定线索,通过滑动来刷新线索数量",
        "max_hit": 1,
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    121,
                    112,
                    239,
                    597
                ],
                "expected": [
                    "线索"
                ]
            }
        },
        "action": {
            "type": "Scroll",
            "param": {
                "dy": -120
            }
        }
    },
    "SendTheMostClues": {
        "doc": "找到4-20之间的数字,点击发送",
        // 线索最多20个,也就是平均下来每张线索不超过3个就可以正常接收
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 1,
                "all_of": [
                    {
                        "sub_name": "_Clue",
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    126,
                                    157,
                                    120,
                                    555
                                ],
                                "expected": [
                                    "自有库存"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "only_rec": true,
                                "roi": "_Clue",
                                "roi_offset": [
                                    165,
                                    0,
                                    -46,
                                    0
                                ],
                                "expected": [
                                    "^(20|[4-9]|1[0-9])$"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Send"
        ]
    },
    "Send": {
        "doc": "发送线索",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    1106,
                    102,
                    87,
                    81
                ],
                "template": [
                    "ClaimDijiangRewards/Send.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "ExitSend"
        ]
    },
    "ExitSend": {
        "doc": "退出发送界面",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    1106,
                    102,
                    87,
                    81
                ],
                "template": [
                    "ClaimDijiangRewards/Send.png"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "EntrySendClues": {
        "doc": "进入发送线索界面",
        "post_wait_freezes": {
            "time": 100,
            "timeout": 1500
        },
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    1182,
                    296,
                    98,
                    102
                ],
                "expected": [
                    "赠予"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "ReceiveClues": {
        "doc": "接收线索",
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 1,
                "all_of": [
                    {
                        "sub_name": "_Tips",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    1117,
                                    82,
                                    163,
                                    517
                                ],
                                "lower": [
                                    224,
                                    105,
                                    0
                                ],
                                "upper": [
                                    255,
                                    117,
                                    4
                                ],
                                "count": 40,
                                "connected": true
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": "_Tips",
                                "roi_offset": [
                                    -63,
                                    31,
                                    81,
                                    36
                                ],
                                "expected": [
                                    "接收"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "CloseRewardsButton",
            "ReceiveClues",
            "EndExchange"
        ]
    },
    "GrowthChamber": {
        "doc": "培养舱任务",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "培养舱"
                ]
            }
        },
        "next": [
            "[JumpBack]CloseRewardsButton",
            "[JumpBack]YellowConfirmButtonType1",
            "[JumpBack]YellowConfirmButtonType2",
            "[JumpBack]GrowAgain",
            "ExitGrowthChamber"
        ]
    },
    "GrowAgain": {
        "doc": "再次培养",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    793,
                    505,
                    222,
                    121
                ],
                "expected": [
                    "再次培养"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "EntryReceptionRoom": {
        "doc": "单独进入会客室",
        "max_hit": 1,
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "sub_name": "_ReceptionRoomBackground",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    363,
                                    12,
                                    538,
                                    278
                                ],
                                "lower": [
                                    151,
                                    132,
                                    235
                                ],
                                "upper": [
                                    158,
                                    138,
                                    249
                                ],
                                "count": 400,
                                "connected": true
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "_ReceptionRoomBackground",
                                "lower": [
                                    35,
                                    35,
                                    35
                                ],
                                "upper": [
                                    35,
                                    35,
                                    35
                                ],
                                "count": 50,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "ReceptionRoom",
            "[JumpBack]EndExchange",
            "EntryReceptionRoom"
        ]
    },
    "EndExchange": {
        "doc": "结束线索交流",
        "recognition": {
            "type": "And",
            "param": {
                "all_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    528,
                                    562,
                                    256,
                                    151
                                ],
                                "expected": [
                                    "确认"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    498,
                                    83,
                                    321,
                                    129
                                ],
                                "expected": [
                                    "情报交流结束"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "ReceptionRoom": {
        "doc": "确认到达会客室",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "会客室"
                ]
            }
        },
        "next": [
            "InControlNexus",
            "[JumpBack]CloseRewardsButton",
            "[JumpBack]CollectClues",
            "[JumpBack]ReceiveClues",
            "[JumpBack]StartExchange",
            "[JumpBack]ReceptionRoomClickTips",
            "[JumpBack]ExitReceptionRoom",
            "[JumpBack]WhiteConfirmButtonType1",
            "[JumpBack]EndExchange"
        ]
    },
    "InControlNexus": {
        "doc": "到达控制中枢",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    15,
                    437,
                    225,
                    153
                ],
                "template": [
                    "ClaimDijiangRewards/InControlNexus.png"
                ]
            }
        }
    },
    "ProductionAssistInDijiang": {
        "doc": "制造舱好友辅助",
        "post_wait_freezes": {
            "time": 200,
            "timeout": 2000
        },
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 1,
                "all_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    43,
                                    0,
                                    96,
                                    64
                                ],
                                "expected": [
                                    "制造舱",
                                    "培养舱"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    1112,
                                    0,
                                    168,
                                    74
                                ],
                                "lower": [
                                    224,
                                    105,
                                    0
                                ],
                                "upper": [
                                    255,
                                    117,
                                    4
                                ],
                                "count": 40,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    -60,
                    10,
                    0,
                    0
                ]
            }
        },
        "next": [
            "[JumpBack]YellowConfirmButtonType1",
            "CloseButtonType1",
            "ExitRecoveryEmotion"
        ]
    },
    "ExitRecoveryEmotion": {
        "doc": "意外进入恢复心情界面,需要退出",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    464,
                    138,
                    278,
                    154
                ],
                "expected": [
                    "选择待恢复心情的干员"
                ]
            }
        },
        "next": [
            "InControlNexus",
            "[JumpBack]YellowConfirmButtonType1",
            "[JumpBack]BackToControlNexus",
            "[JumpBack]CloseButtonType1"
        ]
    },
    "SelectLowEmotion": {
        "doc": "选择心情较低的干员",
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 2,
                "all_of": [
                    {
                        "sub_name": "_EmotionIcon",
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": [
                                    467,
                                    236,
                                    620,
                                    282
                                ],
                                "template": [
                                    "ClaimDijiangRewards/LowEmotion.png",
                                    "ClaimDijiangRewards/NormalEmotion.png",
                                    "ClaimDijiangRewards/HighEmotion.png"
                                ],
                                "order_by": "Vertical"
                            }
                        }
                    },
                    {
                        "sub_name": "_EmotionBar",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "_EmotionIcon",
                                "roi_offset": [
                                    19,
                                    7,
                                    45,
                                    -14
                                ],
                                "lower": [
                                    255,
                                    253,
                                    253
                                ],
                                "upper": [
                                    255,
                                    253,
                                    253
                                ]
                            }
                        }
                    },
                    {
                        "sub_name": "_EmotionBar_Empty",
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": "_EmotionBar",
                                "roi_offset": [
                                    0,
                                    0,
                                    10,
                                    0
                                ],
                                "lower": [
                                    26,
                                    26,
                                    24
                                ],
                                "upper": [
                                    27,
                                    27,
                                    25
                                ],
                                "count": 30,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    -10,
                    -70,
                    -10,
                    0
                ]
            }
        }
    },
    "CarbinSwipe": {
        "doc": "滑动总控中枢",
        "post_wait_freezes": {
            "time": 500,
            "timeout": 2000
        },
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    15,
                    437,
                    225,
                    153
                ],
                "template": [
                    "ClaimDijiangRewards/InControlNexus.png"
                ]
            }
        },
        "action": {
            "type": "Scroll",
            "param": {
                "dx": 240,
                "target_offset": [
                    600,
                    20,
                    0,
                    0
                ]
            }
        }
    },
    "MFG_ReceiveRewards": {
        "doc": "制造舱任务",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "制造舱"
                ]
            }
        },
        "next": [
            "[JumpBack]CloseRewardsButton",
            "[JumpBack]YellowConfirmButtonType1",
            "ReStock"
        ]
    },
    "ReStock": {
        "doc": "补货",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    892,
                    437,
                    154,
                    118
                ],
                "template": [
                    "ClaimDijiangRewards/Restock.png"
                ],
                "order_by": "Horizontal",
                "index": -1
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "ConfirmRestock",
            "Exit_MFG_Cabin"
        ]
    },
    "ConfirmRestock": {
        "doc": "确认补货",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    847,
                    416,
                    416,
                    277
                ],
                "template": [
                    "Common/Button/WhiteConfirmButtonType1.png",
                    "Common/Button/WhiteConfirmButtonType1Hover.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Exit_MFG_Cabin"
        ]
    },
    "Exit_MFG_Cabin": {
        "doc": "退出制造舱界面",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "制造舱"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "OpenDijiangControlNexus": {
        "doc": "打开帝江号总控中枢",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    247,
                    0,
                    172,
                    77
                ],
                "template": [
                    "ClaimDijiangRewards/ControlNexus.png",
                    "ClaimDijiangRewards/ControlNexusWithTips.png"
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": 73
            }
        }
    },
    "SelectDijiangTeleport": {
        "doc": "选择帝江号传送点",
        "post_wait_freezes": {
            "time": 200,
            "timeout": 2000
        },
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 1,
                "all_of": [
                    {
                        "sub_name": "_DijiangBridge",
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": [
                                    17,
                                    38,
                                    1236,
                                    640
                                ],
                                "template": [
                                    "ClaimDijiangRewards/DijiangBridge.png"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "roi": "_DijiangBridge",
                                "roi_offset": [
                                    130,
                                    -10,
                                    60,
                                    20
                                ],
                                "template": [
                                    "ClaimDijiangRewards/DijiangTeleport.png"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "SelectDijiang": {
        "doc": "选择帝江号",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    1052,
                    0,
                    228,
                    196
                ],
                "expected": [
                    "[Oo].?[Mm].?[Vv]"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "OpenMap": {
        "doc": "打开地图",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame1.png",
                                "threshold": 0.8,
                                "roi": [
                                    172,
                                    0,
                                    183,
                                    119
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "TemplateMatch",
                            "param": {
                                "template": "Resell/inGame2.png",
                                "threshold": 0.8,
                                "roi": [
                                    1182,
                                    0,
                                    98,
                                    128
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": 77
            }
        }
    },
    "ControlNexusClickTips": {
        "doc": "点击任务提示(红点)",
        "recognition": {
            "type": "ColorMatch",
            "param": {
                "roi": [
                    759,
                    463,
                    521,
                    117
                ],
                "lower": [
                    224,
                    105,
                    0
                ],
                "upper": [
                    255,
                    117,
                    4
                ],
                "count": 40,
                "connected": true
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    -100,
                    50,
                    0,
                    0
                ]
            }
        },
        "next": [
            "AlreadyInCarbin",
            "[JumpBack]ConfirmRestock",
            "[JumpBack]WhiteConfirmButtonType1",
            "[JumpBack]CloseRewardsButton",
            "[JumpBack]EndExchange",
            "ControlNexusClickTips"
        ]
    },
    "AlreadyInCarbin": {
        "doc": "已经在舱室内部或者好友助力界面",
        "recognition": {
            "type": "Or",
            "param": {
                "any_of": [
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    43,
                                    0,
                                    96,
                                    64
                                ],
                                "expected": [
                                    "制造舱",
                                    "培养舱"
                                ]
                            }
                        }
                    },
                    {
                        "recognition": {
                            "type": "OCR",
                            "param": {
                                "roi": [
                                    170,
                                    104,
                                    121,
                                    77
                                ],
                                "expected": [
                                    "生产助力"
                                ]
                            }
                        }
                    }
                ]
            }
        }
    },
    "EixtCabin": {
        "doc": "退出舱室",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    1163,
                    0,
                    117,
                    98
                ],
                "template": [
                    "CloseInfo/CloseButton.png"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "Collect": {
        "doc": "收集奖励",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    1129,
                    406,
                    151,
                    227
                ],
                "template": [
                    "Common/Button/YellowConfirmButtonType2.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "ExitCollect"
        ]
    },
    "ExitCollect": {
        "doc": "退出收集界面",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "会客室"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "ExitGrowthChamber": {
        "doc": "退出培养舱界面",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    43,
                    0,
                    96,
                    64
                ],
                "expected": [
                    "培养舱"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "RecoveryEmotion": {
        "post_wait_freezes": {
            "time": 200,
            "timeout": 2000
        },
        "doc": "恢复心情",
        "recognition": {
            "type": "And",
            "param": {
                "box_index": 1,
                "all_of": [
                    "InControlNexus",
                    {
                        "recognition": {
                            "type": "ColorMatch",
                            "param": {
                                "roi": [
                                    1112,
                                    0,
                                    168,
                                    74
                                ],
                                "lower": [
                                    224,
                                    105,
                                    0
                                ],
                                "upper": [
                                    255,
                                    117,
                                    4
                                ],
                                "count": 40,
                                "connected": true
                            }
                        }
                    }
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    -60,
                    10,
                    0,
                    0
                ]
            }
        },
        "next": [
            "[JumpBack]EmotionFull",
            "[JumpBack]YellowConfirmButtonType1",
            "StartRecoveryEmotion",
            "CloseButtonType1"
        ]
    },
    "EmotionFull": {
        "doc": "意外点击了满心情的干员,重新进入心情选择界面",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    416,
                    65,
                    428,
                    119
                ],
                "expected": [
                    "干员心情已满",
                    "无法使用助力"
                ]
            }
        },
        "next": [
            "BackToControlNexus"
        ]
    },
    "StartRecoveryEmotion": {
        "doc": "控制中枢内打开,选择待恢复心情的干员",
        "max_hit": 1,
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    464,
                    138,
                    278,
                    154
                ],
                "expected": [
                    "选择待恢复心情的干员"
                ]
            }
        },
        "next": [
            "CouldNotAssistEmotion",
            "[JumpBack]SelectLowEmotion"
        ]
    },
    "CouldNotAssistEmotion": {
        "doc": "无法恢复心情",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    432,
                    74,
                    428,
                    92
                ],
                "expected": [
                    "没有更多的心情激励点数，无法选择更多干员"
                ]
            }
        },
        "next": [
            "InControlNexus",
            "[JumpBack]YellowConfirmButtonType1",
            "[JumpBack]BackToControlNexus",
            "[JumpBack]CloseButtonType1"
        ]
    },
    "BackToControlNexus": {
        "doc": "从其他界面返回控制中枢",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    980,
                    102,
                    187,
                    82
                ],
                "template": [
                    "Resell/back.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    }
}
